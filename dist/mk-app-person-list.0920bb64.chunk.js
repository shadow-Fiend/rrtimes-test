(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1555:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=p(a(2)),i=p(a(43)),o=p(a(4)),u=p(a(8)),c=p(a(3)),f=p(a(5)),s=a(1),d=(p(s),a(955)),l=p(a(1502));function p(t){return t&&t.__esModule?t:{default:t}}var g=(0,d.wrapper)(l.default)(n=function(t){function e(){return(0,o.default)(this,e),(0,c.default)(this,(e.__proto__||(0,i.default)(e)).apply(this,arguments))}return(0,f.default)(e,t),(0,u.default)(e,[{key:"render",value:function(){return this.props.monkeyKing((0,r.default)({},this.props,{path:"root"}))}}]),e}(s.Component))||n;e.default=g,t.exports=e.default},1556:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=f(a(2)),r=f(a(956)),i=f(a(957)),o=f(a(4));e.default=function(t){var e=new u.action(t),a=new s((0,n.default)({},t,{metaAction:e})),r=(0,n.default)({},e,a);return e.config({metaHandlers:r}),r};f(a(1));var u=a(955),c=(a(58),f(a(1490)));f(a(12));function f(t){return t&&t.__esModule?t:{default:t}}var s=function t(e){var a=this;(0,o.default)(this,t),this.onInit=function(t){var e=t.component,n=t.injections;a.component=e,a.injections=n,n.reduce("init");var r=a.metaAction.gf("data.pagination").toJS();a.load(r)},this.load=function(){var t=(0,i.default)(r.default.mark(function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.webapi.person.query({pagination:e,filter:i});case 2:(n=t.sent).filter=i,a.injections.reduce("load",n);case 5:case"end":return t.stop()}},t,a)}));return function(e){return t.apply(this,arguments)}}(),this.getListRowsCount=function(){return a.metaAction.gf("data.list").size},this.isSelectAll=function(){var t=a.metaAction.gf("data.list");return!(!t||0==t.size)&&t.every(function(t){return t.get("selected")})},this.selectAll=function(t){a.injections.reduce("selectAll",t.target.checked)},this.pageChanged=function(t,e){var n=a.metaAction.gf("data.filter").toJS();a.load({current:t,pageSize:e},n)},this.reportChange=function(t){var e=a.metaAction.gf("data.pagination").toJS(),n=a.metaAction.gf("data.filter").toJS();n.report=t.target.value,a.load(e,n)},this.urlChange=function(t){var e=a.metaAction.gf("data.pagination").toJS(),n=a.metaAction.gf("data.filter").toJS();n.url=t,a.load(e,n)},this.getDateRange=function(){var t=a.metaAction.gf("data.filter.dateRange");if(t)return t.toJS()},this.dateRangeChange=function(t){var e=a.metaAction.gf("data.pagination").toJS(),n=a.metaAction.gf("data.filter").toJS();n.dateRange=t,a.load(e,n)},this.clearFilter=function(){var t=a.metaAction.gf("data.pagination").toJS();a.load(t,{})},this.refresh=function(){var t=a.metaAction.gf("data.pagination").toJS(),e=a.metaAction.gf("data.filter").toJS();a.load(t,e)},this.editRow=function(){var t=(0,i.default)(r.default.mark(function t(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o,u,c;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.pop(),u=o.rowIndex,c=a.metaAction.gf("data.list."+u).toJS(),a.config.apps["mk-app-person-card"]){t.next=4;break}throw"依赖mk-app-person-card app,请使用mk clone mk-app-person-card命令添加";case 4:return t.next=6,a.metaAction.modal("show",{title:"人员",children:a.metaAction.loadApp("mk-app-person-card?from=list",{store:a.component.props.store,personId:c.id,isPop:!0})});case 6:t.sent&&a.refresh();case 8:case"end":return t.stop()}},t,a)}));return function(){return t.apply(this,arguments)}}(),this.metaAction=e.metaAction,this.config=c.default.current,this.webapi=this.config.webapi};t.exports=e.default},1557:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=c(a(2)),r=c(a(4));e.default=function(t){var e=new o.reducer(t),a=new f((0,n.default)({},t,{metaReducer:e}));return(0,n.default)({},e,a)};var i=a(58),o=a(955),u=(c(a(1490)),a(1503));function c(t){return t&&t.__esModule?t:{default:t}}var f=function t(e){var a=this;(0,r.default)(this,t),this.init=function(t,e){var n=(0,u.getInitState)();return a.metaReducer.init(t,n)},this.load=function(t,e){return t=a.metaReducer.sf(t,"data.list",(0,i.fromJS)(e.list)),t=a.metaReducer.sf(t,"data.pagination",(0,i.fromJS)(e.pagination)),t=a.metaReducer.sf(t,"data.filter",(0,i.fromJS)(e.filter))},this.selectAll=function(t,e){var n=a.metaReducer.gf(t,"data.list");if(!n||0==n.size)return t;for(var r=0;r<n.size;r++)t=a.metaReducer.sf(t,"data.list."+r+".selected",e);return t},this.metaReducer=e.metaReducer};t.exports=e.default}}]);
//# sourceMappingURL=mk-app-person-list.0920bb64.chunk.js.map